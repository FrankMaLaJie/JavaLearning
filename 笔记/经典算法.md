# 典型算法

## 求水仙花数

一个三位数，它的个位、十位、百位的数字的立方和等于原数，比如：3³+7³+1³ = 371。

- 个位数求法：原始数字对 10 取余，
  371 % 10 = 1，即 x % 10；

- **十位数求法：**原始数字除以10，此时十位数就移动到百位上，再对 10 取余，
  371 / 10 = 37， 37 % 10 = 7，即 x % 10；

- 百位数求法：原始数字除以100（整除），再对10取余

  371 / 100 = 3，即 x /100 % 10；

- **求任意数字的指定位置上的数值：**先整除把对应数字转移到个位数上，再取余。

```java
for(int i = 100; i < 1000; i++)
{
    int ge = i % 10;
    int shi = i / 10 % 10;
    int bai = i / 100 % 10;
    
    if(ge * ge * ge + shi * shi * shi + bai * bai * bai == i)
    {
        System.out.println(i);
    }
}
```



## 斐波那契数列

0、1、1、2、3、5、8、13、21、34...

- 规律：*F*(1)=1，*F*(2)=1, *F*(n)=*F*(n - 1)+*F*(n - 2)（*n* ≥ 3，*n* ∈ N*）

```java
    public static void rabbits()
    {
        int[] arr = new int[20];
        arr[0] = 1;
        arr[1] = 1;
        //从第三个数开始
        for (int i = 2; i < arr.length; i ++)
        {
            arr[i] = arr[i - 2] + arr[i - 1];
        }
        System.out.println(arr[19]);
    }
```



## 百钱百鸡

一只公鸡5块钱，一只母鸡3块钱，三只小鸡1块钱，小明用100块钱买了100只鸡，求公鸡母鸡小鸡各多少只？

- 公鸡：0 <= x <=20

- 母鸡：0 <= y <=33
- 小鸡：0 <= z <=100 → z = 100 - x - y → 总共100只鸡
- 5x + 3y + z/3 = 100 → 100块钱
- z % 3 =0 → 1块钱三只鸡，所以z一定是3的倍数

```java
 public static void BuyChicken()
    {
        for(int x = 0; x <= 20; x++)
        {
            for (int y = 0; y <=33; y++)
            {
                int z = 100 - x -y;
                if (z % 3 == 0 && 5*x + 3*y + z/3 == 100)
                {
                    System.out.println("公鸡有：" + x + "，" + "母鸡有：" + y + "，" + "小鸡有：" + z);
                }
            }
        }
    }
```

 

## 比较两个数组的内容是否相同

- 先比较两个数组的长度
- 如果长度相同，先排序`sort(arr)`
- 遍历数组进行比较

```java
    public static boolean CompareArray()
    {
        int[] arr1 = {11,22,33,44,55};
        int[] arr2 = {11,22,33,55,44};

        //先排序
        sort(arr1);
        sort(arr2);

        if (arr1.length != arr2.length)
        {
            return false;
        }
        for (int i = 0; i < arr1.length; i++)
        {
            if (arr1[i] != arr2[i])
            {
                return false;
            }
        }
        return true;
    }
```



## 查找

输入一个数据，查找该数据在数组中的索引并且输出。

- 定义一个索引变量，默认为-1
- 遍历数组获取数组中每一个元素
- 拿输入的数据和每一个元素进行比较，相同时把对应的索引值赋值给索引变量并且**结束循环（break）**

```java
    public static int getIndex(int[]arr, int num)
    {
        int index = -1;

        for (int i = 0; i < arr.length; i++)
        {
            if (arr[i] == num)
            {
                index = i;
                break;
            }
        }
        return index;
    }
```



## 数组反转

- 创建一个临时空间
- 第一个和最后一个元素交换；第二个和倒数第二个交换...
- 循环遍历数组时，定义两个索引变量，判断条件是**开始索引小于等于结束索引**

![image-20200816215214220](https://i.loli.net/2020/08/22/YvRDzhCblgSfj49.png)



```java
    public static void Reverse(int[]arr)
    {
        for (int start = 0, end = arr.length - 1; start <= end; start++, end--)
        {
            int temp = arr[start];
            arr[start] = arr[end];
            arr[end] = temp;
        }
    }
```



## 用户登陆

已知用户名和密码，实现模拟用户登陆。总共有三次机会，登陆后，给出相应的提示。

思路：

- 已知用户名和密码用字符串表示
- 键盘输入要登陆的用户名和密码，Scanner实现
- 拿键盘输入的用户名、密码和已知的用户名、密码进行比较。字符串比较，用equals()实现
- 用循环实现多次机会，用for循环，登陆成功的时候，用break结束循环

```java
		String userName = "frank";
        String password = "123";


        for (int i = 0; i < 3;i++)
        {
            Scanner sc = new Scanner(System.in);
            System.out.println("请输入用户名：");
            String inputUserName = sc.nextLine();
            System.out.println("请输入密码：");
            String inputPassword = sc.nextLine();

            if (userName.equals(inputUserName) && password.equals(inputPassword))
            {
                System.out.println("登陆成功");
                break;
            }
            else if (2-i == 0)
            {
                System.out.println("登陆失败，你的账户已被锁定，请与管理员联系");
            }
            else
            {
                System.out.println("登陆失败，你还有" + (2-i) + "次机会");
            }
        }
```



## 遍历字符串

键盘输入一个字符串，程序实现在控制台输出。

思路：

- 键盘输入字符串，用Scanner实现
- 获取字符串中每一个字符
  - `public char charAt(int index)`：返回指定索引处的char值，字符串的索引也是从0开始
- 获取字符串长度
  - `public int length()`：返回字符串的长度
  - 数组长度：`数组名.length`
  - 字符串长度：`字符串对象.length()`
- 遍历字符串通用格式

```java
for(int i = 0; i < s.length(); i++)
{
	s.charAt(i);//指定索引处的字符值
}
```



## 统计字符类型个数（大写字母，小写字母，数字）

键盘输入一个字符串，统计该字符串中大写字母字符，小写字母字符，数字字符出现次数（不考虑其他字符）。

思路：

- 键盘输入字符串，用Scanner实现
- 要统计三种类型的字符个数，定义三个统计变量，初始值为0
- 遍历字符串，得到每一个字符
- 判断每一个字符属于哪种类型，对应类型统计变量+1
  - 假如⭐是个字符，要判断属于哪种类型，直接判断⭐是否在对应范围内就可以了
  - 大写字母：⭐>='A' && ⭐<= 'Z'
  - 小写字母：⭐>='a' && ⭐<= 'z'
  - 数字：⭐>='0' && ⭐<= '9'

```java
    public static void CountStrType(String s)
    {
        int cap = 0;
        int low = 0;
        int num = 0;


        for (int i = 0; i < s.length(); i ++)
        {
            char ch = s.charAt(i);
            if (ch >='A' && ch <= 'Z')
            {
                cap++;
            }
            else if (ch>='a' && ch<= 'z')
            {
                low++;
            }
            else if (ch>='0' && ch<= '9')
            {
                num++;
            }
        }
        System.out.println("大写字母有：" + cap + "个");
        System.out.println("小写字母有：" + low + "个");
        System.out.println("数字有：" + num + "个");
    }
```



## 字符串拼接

定义一个方法，把int数组中的数据按照指定格式拼接成一个字符串返回，调用该方法并输出。

例如，数组为`int[] arr = {1,2,3}`，执行方法后输出结果为：[1,2,3]

### String

思路：

- 定义一个int类型的数组，用静态初始化完成元素的初始化
- 定义一个方法，把int数组中的数据按照指定格式拼接成一个字符串返回。返回类型是String，参数是int[] arr
- 在方法中遍历数组，用一个变量接受结果

```java
    public static String ArrayToString(int[] arr)
    {
        String s = "";

        s += "[";

        for (int i = 0; i < arr.length; i++)
        {
            if (i == arr.length -1)
            {
                s += arr[i];
            }
            else
            {
                s += arr[i];
                s += ", ";
            }
        }
        s += "]";

        return s;
    }
```



### StringBuilder

思路：

- 定义一个int类型的数组，用静态初始化完成元素的初始化
- 定义方法，把int数组中的数据按照指定格式拼接成一个字符串返回。返回类型是String，参数是`int[] arr`
- 在方法中用StringBuilder按照要求进行拼接，并且转化成String返回
- 调用，用一个变量接受结果

```java
    public static String ArrayToStringNew(int[] arr)
    {
        StringBuilder sb = new StringBuilder();

        sb.append("[");
        for (int i = 0; i <arr.length; i++)
        {
            if (i == arr.length -1)
            {
                sb.append(arr[i]);
            }
            else
            {
                sb.append(arr[i]).append(",");
            }
        }
        sb.append("]");
        
        String s = sb.toString();
        return s;
    }
```



## 字符串反转

定义一个方法实现字符串反转。键盘输入一个字符串，调用方法后输出。

例如，输入abc，输出cba。

### String

思路：

- 键盘输入字符串，用Scanner实现
- 定义一个方法实现字符串反转。返回类型String，参数String s
- 在方法中倒着遍历String，然后把每一个得到的字符拼接成字符串返回

```java
    public static String ReverseString(String s)
    {
        String rs = "";

        for (int i = s.length() - 1; i >=0; i--)
        {
            rs += s.charAt(i);
        }
        return rs;
    }
```



### StringBuilder

思路：

- 键盘输入字符串，用Scanner实现
- 定义一个方法实现字符串反转。返回类型String，参数String s
- 在方法中用StringBuilder实现字符串反转，并且转化成String返回
- 调用，用一个变量接受结果

```java
    public static String ReverseStringNew(String s)
    {
        StringBuilder sb = new StringBuilder(s);
        s = sb.reverse().toString();
        return s;

        //匿名对象，一行代码解决
        //return new StringBuffer(s).reverse().toString();等价于上面三行代码
    }
```



## 存储字符串并且遍历（集合）

创建一个存储字符串的**集合**，存储3个字符串元素，并且遍历。

思路：

- 创建集合对象

- 向集合添加字符串对象

- 遍历集合，首先要能够获取集合中的每一个元素，通过`get(int index)`实现

- 遍历集合，其次要能够获取集合测长度，通过`size()`实现

- 遍历集合的通用格式

  ```java
  for(int i = 0; i < arrayList.size(); i++)
  {
      arrayList.get(i) //就是指定索引处的元素
  }
  ```



## 学生管理系统项目

**思路：**

1. 定义学生类
2. 主界面的代码编写
3. 添加学生的代码编写
4. 查看学生的代码编写
5. 删除学生的代码编写
6. 修改学生的代码编写

### 定义学生类

**推荐：快捷键（Ctrl + INSERT）快速生成构造函数和get/set方法**

- 学生类：Student
- 成员变量：
  1. 学号：sid
  2. 姓名：name
  3. 年龄：age
  4. 居住的：address
- 构造方法：
  1. 无参构造
  2. 带四个参数的构造
- 成员方法：每个成员变量给出对应的get/set方法

```JAVA
package com.StudentManager;

public class Student
{
    private String sid;
    private String name;
    private String age;
    private String address;

    public Student()
    {
    }

    public Student(String sid, String name, String age, String address)
    {
        this.sid = sid;
        this.name = name;
        this.age = age;
        this.address = address;
    }

    public String getSid()
    {
        return sid;
    }

    public void setSid(String sid)
    {
        this.sid = sid;
    }

    public String getName()
    {
        return name;
    }

    public void setName(String name)
    {
        this.name = name;
    }

    public String getAge()
    {
        return age;
    }

    public void setAge(String age)
    {
        this.age = age;
    }

    public String getAddress()
    {
        return address;
    }

    public void setAddress(String address)
    {
        this.address = address;
    }
}

```



### 主界面的代码编写

![image-20200819211031546](https://i.loli.net/2020/08/22/ix3N81LOwGDV7lA.png)

**思路：**

- 输出语句完成主界面的编写
- Scanner实现键盘录入
- 用switch完成操作选择
- 用循环再次回到主界面（System.exit (0);//JVM退出

```java
public static void main(String[] args)
    {
        while (true)
        {
            //主界面
            System.out.println("----------欢迎来到学生管理系统----------");
            System.out.println("1、添加学生信息");
            System.out.println("2、删除学生信息");
            System.out.println("3、修改学生信息");
            System.out.println("4、查看所有学生信息");
            System.out.println("5、退出");
            System.out.println("请输入你的选择：");

            //Scanner实现键盘录入
            Scanner scanner = new Scanner(System.in);
            String line = scanner.nextLine();

            switch (line)
            {
                case "1":
                {
                    System.out.println("添加学生信息");
                    break;
                }
                case "2":
                {
                    System.out.println("删除学生信息");
                    break;
                }
                case "3":
                {
                    System.out.println("修改学生信息");
                    break;
                }
                case "4":
                {
                    System.out.println("查看所有学生信息");
                    break;
                }
                case "5":
                {
                    System.out.println("感谢使用");
                    System.exit(0);//JVM虚拟机退出(程序退出)
                }

            }
        }
    }
```



### 添加学生的代码编写

**思路：**

- 键盘录入选择添加学生资料
- 定义一个方法用于添加学生
  - 显示提示信息，提示要输入的信息
  - 键盘录入学生对象所需要的数据
  - 创建学生对象，把键盘录入的数据赋值给学校对象的成员变量
  - 将学生对象添加到集合中保存起来
  - 给出添加成功的信息
- 调用方法

```java
public static void addStudent(ArrayList<Student> arrayList)
    {
        Scanner scanner = new Scanner(System.in);
        String sid;

        //让程序回到这里，用循环实现
        while (true)
        {
            //录入学生信息
            System.out.println("请输入学生的学号：");
            sid = scanner.nextLine();

            //判断学号是否重复
            boolean flag = isUsed(arrayList, sid);
            if (flag)
            {
                System.out.println("输入学号已经被使用，请重新输入");
            }
            else
            {
                break;
            }
        }
        System.out.println("请输入学生的名字：");
        String name = scanner.nextLine();
        System.out.println("请输入学生的年龄：");
        String age = scanner.nextLine();
        System.out.println("请输入学生的地址：");
        String address = scanner.nextLine();

        //创建学生对象，把信息赋值给成员变量
        Student s = new Student();
        s.setSid(sid);
        s.setName(name);
        s.setAge(age);
        s.setAddress(address);

        //添加到集合中
        arrayList.add(s);

        //给出添加成功的提示
        System.out.println("添加成功");
    }
```



### 查看学生的代码编写

**思路：**

- 键盘录入选择添加学生资料
- 定义一个方法用于查看学生
  - 判断集合中是否有数据，如果没有显示提示信息
  - 显示表头信息
  - 将集合中的数据提取出来按照对应格式显示学生信息，年龄补充“岁”
- 调用方法

**推荐：用 \t （Tab）来进行缩进，调整格式。判断没有学生信息，用 return 跳出方法**

```java
    public static void findAllStudent(ArrayList<Student> arrayList)
    {
        //判断集合中是否有数据，如果没有显示提示信息
        if (arrayList.size() == 0)
        {
            System.out.println("无信息，请先添加信息再查询");
            //为了不让程序继续往下执行
            return;
        }

        //显示表头信息，\t就是按下Tab进行缩进
        System.out.println("学号\t姓名\t年龄\t\t居住地");

        //将集合中的数据提取出来按照对应格式显示学生信息，年龄补充“岁”
        for (int i = 0; i < arrayList.size(); i++)
        {
            Student s = arrayList.get(i);
            System.out.println(s.getSid() + "\t" + s.getName() + "\t" + s.getAge() + "岁\t\t" + s.getAddress());
        }
    }
```



### 删除学生的代码编写

**思路：**

- 键盘录入选择删除学生资料
- 定义一个方法用于删除学生
  - 显示提示信息
  - 键盘录入要删除的学生的学号
  - 遍历集合将对应的学生对象从集合中删除
  - 给出删除成功的信息
- 调用方法

```java
public static void deleteStudent(ArrayList<Student> arrayList)
    {
        Scanner scanner = new Scanner(System.in);

        //键盘录入要删除的学生的学号
        String sid;

        while (true)
        {
            //录入学生信息
            System.out.println("请输入学生的学号：");
            sid = scanner.nextLine();

            //判断学号是否存在
            boolean flag = isUsed(arrayList, sid);
            if (flag)
            {
                break;
            }
            else
            {
                System.out.println("输入学号有误，请重新输入");
            }
        }

        for (int i = 0; i < arrayList.size(); i++)
        {
            Student s = arrayList.get(i);
            if (s.getSid().equals(sid)/*s.getSid() == sid*/)
            {
                arrayList.remove(i);
                System.out.println("删除学生成功");
                break;
            }
        }
    }
```

|   关键字   |                             作用                             |                             结束                             |
| :--------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|  `break`   |   跳出所在的当前整个循环，到外层代码继续执行。（跳出一层）   | 不仅可以结束其所在的循环，还可结束其外层循环，但一次只能结束一种循环。 |
|  `return`  | 直接返回函数，所有该函数体内的代码（包括循环体）都不会再执行。 |              同时结束其所在的循环和其外层循环。              |
| `continue` | 跳出本次循环，从下一个迭代继续运行循环，内层循环执行完毕，外层代码继续运行。 |             结束本次循环，将接着开始下一次循环。             |



### 修改学生的代码编写

**思路：**

- 键盘录入选择修改学生资料
- 定义一个方法用于修改学生
  - 显示提示信息
  - 键盘录入要修改的学生的学号
  - 键盘录入要修改的学生对应的信息
  - 给出修改成功的信息
- 调用方法

```java
public static void updateStudent(ArrayList<Student> arrayList)
    {
        //键盘录入要修改的学生的学号
        Scanner scanner = new Scanner(System.in);

        //创建对象
        Student s = new Student();
        String sid;

        //判断集合中是否有一个对象的学号和输入的相同
        //相同继续执行，不同重新输入
        while (true)
        {
            //录入学生信息
            System.out.println("请输入学生的学号：");
            sid = scanner.nextLine();

            //判断学号是否存在
            boolean flag = isUsed(arrayList, sid);
            if (flag)
            {
                break;
            }
            else
            {
                System.out.println("输入学号有误，请重新输入");
            }
        }

        //找出对应的对象进行修改
        for (int i = 0; i < arrayList.size(); i++)
        {
            s = arrayList.get(i);
            if (s.getSid().equals(sid)/*s.getSid() == sid*/)
            {
                //选择要修改的信息，case实现
                System.out.println("请选择要修改的信息");
                System.out.println("1、修改学生学号");
                System.out.println("2、修改学生姓名");
                System.out.println("3、修改学生年龄");
                System.out.println("4、修改学生居住地");
                String line = scanner.nextLine();

                switch (line)
                {
                    case "1":
                        System.out.println("请输入新的学生学号");
                        String newSid = scanner.nextLine();
                        s.setSid(newSid);
                        break;
                    case "2":
                        System.out.println("请输入新的学生姓名");
                        String newName = scanner.nextLine();
                        s.setName(newName);
                        break;
                    case "3":
                        System.out.println("请输入新的学生年龄");
                        String newAge = scanner.nextLine();
                        s.setAge(newAge);
                        break;
                    case "4":
                        System.out.println("请输入新的学生居住地");
                        String newAddress = scanner.nextLine();
                        s.setAddress(newAddress);
                        break;
                }

                //把修改好的数据放回集合中
                arrayList.set(i, s);
                System.out.println("修改成功");
                break;
            }
        }
    }
```



### 解决删除/修改学生学号不存在问题

**思路：**

- 在修改/删除学生操作前，对学号是否存在进行判断
  - 如果不存在，显示信息
  - 如果存在，执行修改/删除操作





### 解决添加学生学号重复问题

**思路：**

- 定义一个方法，对学号是否被使用进行判断
  - 如果和集合中某一个学生学号相同，返回true
  - 都不同，返回false
- 在添加学生录入学号后调用方法
  - 如果返回true，弹出提示，重新输入学号
  - 返回false，正常添加学生对象

```java
public static boolean isUsed(ArrayList<Student> arrayList, String sid)
    {
        boolean flag = false;

        for (int i = 0; i <arrayList.size();i++){
            Student s = arrayList.get(i);
            if (s.getSid().equals(sid))
            {
                flag = true;
                break;
            }
        }
        return flag;
    }
```



## 二月天

获取任意一年的二月有多少天

思路：

- 键盘录入任意年份
- 设置日历对象的年、月、日
  - 年：键盘输入
  - 月：设置为3月，月份从0开始的，所以设置的值为2
  - 日：设置为1日
- 获取3月1日的前一天就是2月的最后一天

```java
    public static void main(String[] args) throws ParseException
    {
        //键盘输入年份
        Scanner sc = new Scanner(System.in);
        System.out.println("请输入要查询的年份：");
        int year = sc.nextInt();

        //设置日历对象的年月日
        Calendar c = Calendar.getInstance();
        c.set(year, 2, 1);

        //3月1日向前推一天，获取2月的最后一天
        c.add(Calendar.DATE, -1);
        int date = c.get(Calendar.DATE);

        System.out.println(year + "年的2月份有" + date + "天");

    }
```



## 不重复随机数

获取10个1-20之间的随机数，要求随机数不重复

思路：

- 创建Set集合
- 创建随机数对象
- 判断集合长度是不是小于10
  - 是：产生一个随机数，添加到集合
  - 继续判断

```java
//不重复随机数
public static void notRepeatRandomNum(){
    
    //创建集合对象
    //如果是用TreeSet来创建，输出的结果会自动排序
    Set<Integer> set = new HashSet<>();
   
    //创建随机数对象
    Random r= new Random();

    //产生随机数
    while (set.size() <10){
        set.add(r.nextInt(20)+1);
    }

    for (Integer i :set){
        System.out.println(i);
    }
}
```



## 统计字符串中每个字符出现的次数

键盘录入一个字符串，要求统计字符串中每个字符出现的次数，输出："a(5)b(4)c(3)d(2)...."

分析：

- 把结果分成几个部分来看：a(5)，b(4)，c(3)，d(2)，...
- 每个部分都是 **字符和字符对应的次数** 组成
- 这样的数据用HashMap集合存储，键是字符，值是字符出现的次数
  - 键是字符，类型是Character；
  - 值是字符出现的次数，类型是Integer；

思路：

- 键盘录入字符串
- 创建HashMap集合，键是字符，值是字符出现的次数
- 遍历字符串，得到每一个字符
- 拿得到的每一个字符作为键，判断HashMap中是否含有这个键
  - 如果返回null：说明该字符在HashMap中不存在，就把该字符作为键，1作为值存储
  - 如果返回不是null：说明该字符在HashMap中存在，就把该该值+1，然后重新存储该字符和对应的值
- 遍历HashMap集合，得到键和值，按照要求进行拼接

```java
    public static void numOfChar()
    {
        //键盘录入字符串
        Scanner sc = new Scanner(System.in);
        System.out.println("请输入字符串");
        String str = sc.nextLine();

        //创建HashMap集合，键是字符，值是字符出现的次数
        TreeMap<Character, Integer> tm = new TreeMap<>();

        //遍历字符串，得到每一个字符,判断HashMap中是否含有遍历出来的键
        //拿得到的每一个字符作为键，判断HashMap中是否含有这个键
        for (int i = 0; i < str.length(); i++)
        {
            char key = str.charAt(i);

            //- 如果返回不是null：说明该字符在HashMap中存在，就把该该值+1，然后重新存储该字符和对应的值
            if (tm.containsKey(key))
            {
                tm.put(key, tm.get(key) + 1);
            }
            //- 如果返回null：说明该字符在HashMap中不存在，就把该字符作为键，1作为值存储
            else
            {
                tm.put(key, 1);
            }
        }

        //创建StringBuilder对象
        StringBuilder sb = new StringBuilder();

        //遍历HashMap
        Set<Character> keySet = tm.keySet();
        for (Character key : keySet)
        {
            sb.append(key).append("(").append(tm.get(key)).append(")");
        }
        System.out.println(sb);
    }
```



## 模拟斗地主

实现斗地主过程中的洗牌，发牌，看牌，对牌进行排序

思路：

- 创建牌盒，也就是定义一个集合对象

- 创建牌

  - 花色数组
  - 点数数组

- 往牌盒里面装牌

  - 用HashMap来当做牌盒
    - key：编号
    - value：牌

- 洗牌，也就是把牌打散
  
  - 把编号存到ArrayList中，进行洗牌
  - 用Collections的`shuffle()`方法实现
  
- 发牌，也就是遍历存放牌的编号的ArrayList，给三个玩家发牌

- 排序

  - 用TreeSet来当作玩家（根据索引，自动排序）

- 看牌，也就是三个玩家分别遍历自己的牌

  - 遍历TreeSet集合，获取编号
  - 通过编号到HashMap中找到对应的牌

  

- ![image-20200902002846808](https://i.loli.net/2020/09/02/2Xr8WO3GY6lFjRC.png)

```java
public static void main(String[] args)
{
    //创建牌盒
    HashMap<Integer, String> hm = new HashMap<>();

    //创建装有牌的编号的ArrayList
    ArrayList<Integer> array = new ArrayList<>();

    //创建TreeSet玩家
    TreeSet<Integer> player0 = new TreeSet<>();
    TreeSet<Integer> player1 = new TreeSet<>();
    TreeSet<Integer> player2 = new TreeSet<>();
    TreeSet<Integer> dzp = new TreeSet<>();

    /*
     牌的组成
     ♠2，♠3，♠4.....♠K，♠A
     ♥2...
     ♣2...
     ♦2...
     */
    //定义花色数组
    String[] colors = {"♠", "♥", "♣", "♦"};
    //定义点数数组
    String[] numbers = {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};

    //把牌存入牌盒HashMap
    int index = 0;
    for (String color : colors)
    {
        for (String num : numbers)
        {
            hm.put(index, color + num);
            //把牌放入HashMap的同时，把编号放入ArrayList
            array.add(index);
            index++;
        }
    }

    //不要忘记大小王
    hm.put(index, "Black Joker");
    array.add(index);
    index++;
    hm.put(index, "Color Joker");
    array.add(index);

    //洗牌
    //直接调用Collections类的shuffle()方法，打乱元素顺序
    Collections.shuffle(array);

    //发牌
    //用for循环遍历整个数组进行发牌，array.size()=53
    for (int i = 0; i < array.size(); i++)
    {
        int x = array.get(i);
        
        //取最后三张牌当作地主牌，51，52，53 (从0开始算)
        if (i >= array.size() - 3)
        {
            dzp.add(x);
        }
        //因为有三个玩家，所以对3取余，结果都是0，1，2
        //规律：有多少个玩家，就对多少取余
        else if (i % 3 == 0)
        {
            player0.add(x);
        }
        else if (i % 3 == 1)
        {
            player1.add(x);
        }
        else
        {
            player2.add(x);
        }
    }
    checkCards("player0", player0,hm);
    checkCards("player1", player1,hm);
    checkCards("player2", player2,hm);
    checkCards("地主牌", dzp,hm);

}

public static void checkCards(String name, TreeSet<Integer> treeSet, HashMap<Integer, String> hashMap)
{
    System.out.println(name + "的牌是：");
    for (Integer i : treeSet)
    {
        String card = hashMap.get(i);
        System.out.print(card + " ");
    }
    //换行
    System.out.println();
    System.out.println();
}
```



## 递归求阶乘

用递归求 x 的阶乘

思路：

- 递归出口：1！=1
- 递归规则：n！ = n * （ n - 1）

```java
public static int factorial(int n){
    if (n == 1){
        return 1;
    }
    else
    {
        return n * factorial(n-1);
    }
}
```



## 递归遍历目录

给定一个路径，通过递归完成遍历该目录下的所有内容

思路：

- 根据给定的路径创建File对象
- 定义一个方法，用于获取给定目录下的所有内容，参数为刚刚创建的File对象
- 获取给定的File目录下所有的文件或者目录的File数组
- 遍历File数组，得到每一个File对象
- 盘对File对象是否是目录
  - 是：递归调用
  - 否：获取绝对路径输出

```java
public static void traverseDir(File file)
{
    //获取给定的File目录下所有的文件或者目录的File数组
    File[] listFiles = file.listFiles();

    //遍历File数组，得到每一个File对象
    //先判断File数组是否为null
    if (listFiles != null)
    {
        //遍历File数组，获取每一个File对象
        for (File f : listFiles)
        {
            //如果是目录，递归
            if (f.isDirectory())
            {
                traverseDir(f);
            }
            //如果不是目录，输出
            else
            {
                System.out.println(f.getAbsolutePath());
            }
        }
    }
}
```



## 字节缓冲流复制文件

把G:\\Github Desktop\\JavaLearning\\Java Practical\\fos.txt 复制到别的目录下

读写速度排名

1. 字节缓冲流（一次一个字节数组）
2. 字节缓冲流（一次一个字节）
3. 基本字节流（一次一个字节数组）
4. 基本字节流（一次一个字节）

分析：

- 复制文本文件，其实就是把其中的内容读取出来**（数据源）**，然后写入到另一个文件中**（目的地）**
- 数据源：
  - fos.txt → 读数据 → InputStream → FileInputStream → BufferedFileInputStream
- 目的地：
  - xxx.txt → 写数据 → OutputStream → FileOutputStream→ BufferedFileOutputStream

思路：

- 根据数据源创建字节输入流对象
- 根据目的地创建字节输出流对象
- 读取数据，复制文件文本（一次读取一个字节，一次写入一个字节）
- 释放资源

```java
public static void copy() throws IOException
{
    //根据数据源创建字节输入流对象
    BufferedFileInputStream bis = new BufferedFileInputStream
        (new FileInputStream("G:\\Github Desktop\\JavaLearning\\Java Practical\\fos.txt");
    //根据目的地创建字节输出流对象
    BufferedFileOutputStream bos = new BufferedFileOutputStream
        (new FileOutputStream("G:\\Github Desktop\\JavaLearning\\Java Practical\\src\\com\\复制过来的.txt"));

    byte[] bys = new byte[1024];
    int len;
    while ((len = bis.read(bys)) != -1)
    {
        bos.write(bys, 0, len);
    }

    //释放资源
    fis.close();
    fos.close();
}
```



## 字符缓冲流复制文件

把G:\\Github Desktop\\JavaLearning\\Java Practical\\fos.txt 复制到别的目录下

读写速度排名

1. 字节缓冲流（一次一个字节数组）
2. 字节缓冲流（一次一个字节）
3. 基本字节流（一次一个字节数组）
4. 基本字节流（一次一个字节）

思路：

- 根据数据源创建字节输入流对象
- 根据目的地创建字节输出流对象
- 读取数据，复制文件文本（一次读取一个字节，一次写入一个字节）
- 释放资源

```java
public static void copy() throws IOException
{
    //根据数据源创建字节输入流对象
    BufferedReader br = new BufferedReader
        (new FileReader("G:\\Github Desktop\\JavaLearning\\Java Practical\\fos.txt"));
    //根据目的地创建字节输出流对象
    BufferedWriter bw = new BufferedWriter
        (new FileWriter("G:\\Github Desktop\\JavaLearning\\Java Practical\\src\\com\\复制过来的.txt");

    char[] chs = new char[1024];
    int len;
    while ((len = br.read(chs)) != -1)
    {
        bw.write(chs, 0, len);
    }
    
    //优化方案
    String line;
    while ((line = br.readLine()) != null)
    {
        bw.write(line);
        bw.newLine();
        bu.flush();
    }

    //更优化方案
    PrintWriter pw = new PrintWriter(new FileWriter("G:\\Github Desktop\\JavaLearning\\Java Practical\\src\\com\\复制过来的.txt"), true);
    String line;
    while ((line = br.readLine()) != null)
    {
        pw.println(line);
    }
         
    //释放资源
    bw.close();
    br.close();
    pw.close();
}
```



## 集合到文件

把ArrayList集合中的字符串数据写入到文本文件，要求每一个字符串元素作为文件中的一行数据

思路：

- 创建ArrayList集合
- 向集合中存储字符串元素
- 创建字符缓冲输出流对象
- 遍历集合，得到每一个字符串数据
- 调用字符缓冲输出流对象的方法写数据
- 释放资源

```java
public static void arrayListToFile() throws IOException
{
    //创建ArrayList集合
    ArrayList<String> arr = new ArrayList<>();

    //向集合中存储字符串元素
    arr.add("ma");
    arr.add("la");
    arr.add("jie");

    //创建字符缓冲输出流对象
    BufferedWriter bw = new BufferedWriter(new FileWriter("G:\\Github Desktop\\JavaLearning\\Java Practical\\src\\com\\字符串.txt"));

    //遍历集合，得到每一个字符串数据
    for (String s:arr){
        //调用字符缓冲输出流对象的方法写数据
        bw.write(s);
        bw.newLine();
        bw.flush();
    }

    //释放资源
    bw.close();
}
```



### 对象

把ArrayList集合中的学生（对象）数据写入到文本文件，要求每一个学生对象的数据作为文件中的一行数据

格式：学号，姓名，年龄，居住地

举例：001，马拉杰，24，东莞

思路：

- 定义学生类
- 创建ArrayList集合
- 创建学生对象
- 把学生对象添加集合中
- 创建字符缓冲输出流对象
- 遍历集合，得到每一个学生对象
- 把学生对象的数据拼接成指定格式的字符串
- 调用字符缓冲输出流对象的方法写数据
- 释放资源

```java
    public static void studentArrToFile() throws IOException{

        //创建ArrayList集合
        ArrayList<Student> arr = new ArrayList<>();

        //创建学生对象
        Student s1 = new Student("001","malajie","24","Dongguan");
        Student s2 = new Student("002","dilireba","28","Xinjiang");
        Student s3 = new Student("003","pikachu","5","Nintendo");
        Student s4 = new Student("004","link","100","Hyrule");
        Student s5 = new Student("005","zelda","100","Hyrule");

        //把学生对象添加集合中
        arr.add(s1);
        arr.add(s2);
        arr.add(s3);
        arr.add(s4);
        arr.add(s5);

        //创建字符缓冲输出流对象
        BufferedWriter bw = new BufferedWriter
                (new FileWriter("G:\\Github Desktop\\JavaLearning\\Java Practical\\src\\com\\字符串.txt")
                );

        //遍历集合，得到每一个学生对象
        for (Student s : arr){

            StringBuilder sb = new StringBuilder();

            //把学生对象的数据拼接成指定格式的字符串
            sb.append(s.getSid()).append(", ").append(s.getName()).append(", ")
                    .append(s.getAge()).append(", ").append(s.getAddress());

            //调用字符缓冲输出流对象的方法写数据
            bw.write(sb.toString());
            bw.newLine();
            bw.flush();
        }

        //释放资源
        bw.close();
    }
```



### 对象+排序

键盘录入5个学生信息（姓名，语文成绩，数学成绩，英语成绩），按照成绩总分从高到低排序写入文本文件

格式：姓名，语文成绩，数学成绩，英语成绩

举例：林青霞，98，99，100

思路：

- 定义学生类
- 创建TreeSet集合，通过比较器排序
- 键盘录入学生数据
- 创建学生对象，把键盘录入的数据赋值给对应的学生对象的成员变量
- 把学生对象添加TreeSet集合中
- 创建字符缓冲输出流对象
- 遍历集合，得到每一个学生对象
- 把学生对象的数据拼接成指定格式的字符串
- 调用字符缓冲输出流对象的方法写数据
- 释放资源

```java
    public static void studentArrToFile2() throws IOException
    {

        TreeSet<com.collection.Student> ts = new TreeSet<>(new Comparator<com.collection.Student>()
        {
            //创建TreeSet集合，通过比较器排序
            @Override
            public int compare(com.collection.Student s1, com.collection.Student s2)
            {
                //总分从高到低，后一个减去前一个
                int num = s2.getSum() - s1.getSum();
                int num2 = num == 0 ? s1.getChinese() - s2.getChinese() : num;
                int num3 = num2 == 0 ? s1.getMath() - s2.getMath() : num2;
                int num4 = num3 == 0 ? s1.getName().compareTo(s2.getName()) : num3;
                return num4;
            }
        });

        //键盘录入学生数据
        for (int i = 0; i < 5; i++)
        {
            Scanner sc = new Scanner(System.in);
            System.out.println("请输入第" + (i + 1) + "个学生的学生信息");

            System.out.println("姓名：");
            String name = sc.nextLine();
            System.out.println("年龄：");
            int age = sc.nextInt();
            System.out.println("语文成绩：");
            int chinese = sc.nextInt();
            System.out.println("数学成绩：");
            int math = sc.nextInt();
            System.out.println("英语成绩：");
            int english = sc.nextInt();

            //创建学生对象，把键盘录入的数据赋值给对应的学生对象的成员变量
            com.collection.Student s = new com.collection.Student();
            s.setName(name);
            s.setAge(age);
            s.setChinese(chinese);
            s.setMath(math);
            s.setEnglish(english);

            //把学生对象添加TreeSet集合中
            ts.add(s);
        }

        //创建字符缓冲输出流对象
        BufferedWriter bw = new BufferedWriter(new FileWriter
                                               ("G:\\Github Desktop\\JavaLearning\\Java Practical\\src\\com\\成绩排序.txt"));

        //遍历集合，得到每一个学生对象
        for (com.collection.Student s : ts)
        {
            //把学生对象的数据拼接成指定格式的字符串
            StringBuilder sb = new StringBuilder();
            sb.append(s.getName()).append(", ")
                .append(s.getAge()).append(", ")
                .append(s.getChinese()).append(", ")
                .append(s.getMath()).append(", ")
                .append(s.getEnglish()).append(", ")
                .append(s.getSum());

            //调用字符缓冲输出流对象的方法写数据
            bw.write(sb.toString());
            bw.newLine();
            bw.flush();
        }

        //释放资源
        bw.close();
    }
```





## 文件到集合

把文本文件中的数据读取到集合中，并遍历集合，文件中每一行数据是一个集合元素

思路：

- 创建字符缓冲输出流对象
- 创建ArrayList集合
- 调用字符缓冲输出流对象的方法读数据
- 把读取到的字符数据存储到集合中
- 释放资源
- 遍历集合

```java
public static void fileToArrayList() throws IOException
{
    //创建字符缓冲输出流对象
    BufferedReader br = new BufferedReader(new FileReader
                                           ("G:\\Github Desktop\\JavaLearning\\Java Practical\\src\\com\\字符串.txt"));

    //创建ArrayList集合
    ArrayList<String> arr = new ArrayList<>();
    
    //调用字符缓冲输出流对象的方法读数据
    String line;
    while ((line = br.readLine()) != null)
    {
        //把读取到的字符数据存储到集合中
        arr.add(line);
    }
    ;

    //释放资源
    br.close();

    //遍历集合
    for (String s : arr)
    {
        System.out.println(s);
    }
}
```



### 对象

把文本文件数据读取到ArrayList集合中，并且遍历，要求文件中的每一行数据是每一个学生对象的成员变量

举例：001，马拉杰，24，东莞

思路：

- 定义学生类
- 创建字符缓冲输入流对象
- 创建ArrayList集合
- 调用字符缓冲输入流对象的方法读数据
- 把读取到的字符串数据用split()进行分割，得到一个字符串数组
- 创建学生对象
- 把字符串数组中的每一个元素取出来，赋值给对应的成员变量
- 把学生对象添加到集合
- 释放资源
- 遍历集合

```java
public static void fileToStudentArr() throws IOException{

    //创建字符缓冲输入流对象
    BufferedReader br = new BufferedReader(new FileReader
                                           ("G:\\Github Desktop\\JavaLearning\\Java Practical\\src\\com\\字符串.txt")
                                          );

    //创建ArrayList集合
    ArrayList<Student> arr = new ArrayList<>();

    //调用字符缓冲输入流对象的方法读数据
    //001, malajie, 24, Dongguan
    String line;
    while ((line = br.readLine()) !=null){

        //把读取到的字符串数据用split()进行分割，得到一个字符串数组
        String[] str = line.split(", ");

        //创建学生对象
        Student s = new Student();

        //把字符串数组中的每一个元素取出来，赋值给对应的成员变量
        s.setSid(str[0]);
        s.setName(str[1]);
        s.setAge(str[2]);
        s.setAddress(str[3]);

        //把学生对象添加到集合
        arr.add(s);
    }

    //释放资源
    br.close();

    //遍历集合
    for(Student s :arr){
        System.out.println(s);
    }
}
```



## 点名器

一个文件里面存储了班级同学的姓名，每个姓名占一行，要求实现随机点名

思路：

- 创建字符缓冲输出流对象
- 创建ArrayList集合
- 调用字符缓冲输出流对象的方法读数据
- 把读取到的字符数据存储到集合中
- 释放资源
- 使用Random产生一个随机数，随机范围在：[0, 集合长度)
- 把产生的随机数作为索引到ArrayList集合中获取值
- 输出

```java
public static void callName() throws IOException
{
    BufferedReader br = new BufferedReader(new FileReader
                                           ("G:\\Github Desktop\\JavaLearning\\Java Practical\\src\\com\\字符串.txt")
                                          );

    ArrayList<String> arr = new ArrayList<>();

    String line;
    while ((line = br.readLine()) != null)
    {
        arr.add(line);
    }

    br.close();

    Random random = new Random();

    int index = random.nextInt(arr.size());

    String name = arr.get(index);

    System.out.println("幸运者是：" + name);
}
```



## 复制单级文件夹

思路：

- 创建数据源目录File对象，路径是F:\招聘
- 获取数据源目录File对象的名称（招聘）
- 创建目的地目录File对象，路径名是F:\游戏课程
- 判断目的地目录对应的File是否存在，如果不存在就创建
- 获取数据源目录下所有文件的File数组
- 遍历数组，得到每一个File对象，该File对象就是数据源文件
  - 数据源文件：F:\招聘\简历修改注意事项.docx
- 获取数据源文件File对象的名称（简历修改注意事项.docx）
- 创建目的地文件File对象，路径名是目的地目录+简历修改注意事项.docx（F:\游戏课程\简历修改注意事项.docx）

- 复制文件
- 由于文件不仅仅是文本文件，还有其他文件，所以用字节流复制文件

```java
    public static void copyFolder() throws IOException
    {
        //创建数据源目录File对象，路径是F:\招聘
        File srcFolder = new File("F:\\招聘");

        //获取数据源目录File对象的名称（招聘）
        String srcFolderName = srcFolder.getName();

        //创建目的地目录File对象，路径名是F:\游戏课程
        File destFolder = new File("F:\\游戏课程", srcFolderName);

        //判断目的地目录对应的File是否存在，如果不存在就创建
        if (!destFolder.exists())
        {
            destFolder.mkdir();
        }

        //获取数据源目录下所有文件的File数组
        File[] listFiles = srcFolder.listFiles();

        //遍历数组，得到每一个File对象，该File对象就是数据源文件
        //数据源文件：F:\招聘\简历修改注意事项.docx
        for (File srcFile : listFiles)
        {

            //获取数据源文件File对象的名称（简历修改注意事项.docx）
            String srcFileName = srcFile.getName();

            //创建目的地文件File对象，路径名是目的地目录+简历修改注意事项.docx（F:\游戏课程\简历修改注意事项.docx）
            File destFile = new File(destFolder, srcFileName);

            //复制文件
            copyFile(srcFile, destFile);
        }

    }

    private static void copyFile(File srcFile, File destFile) throws IOException
    {
        BufferedInputStream bis = new BufferedInputStream(new FileInputStream(srcFile));
        BufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream(destFile));

        byte[] bytes = new byte[1024];
        int len;
        while ((len = bis.read(bytes)) != -1)
        {
            bos.write(bytes, 0, len);
        }
        bis.close();
        bos.close();
    }
```



## 复制多级文件夹

思路：

- 创建数据源目录File对象，路径是F:\文明大家庭成员综合考核评比
- 创建目的地目录File对象，路径名是G:\
- 写方法实现文件夹的复制，参数为数据源File对象和目的地File对象
- 判断数据源File是否是目录
  - 是
    - 在目的地下创建和数据源File名称一样的目录
    - 获取数据源目录下所有文件或者目录的File数组
    - 遍历数组，得到每一个File对象
    - 把该File对象作为数据源对象，递归调用复制文件夹的方法
- 由于文件不仅仅是文本文件，还有其他文件，所以用字节流复制文件

```java
public static void copyFolderDemo() throws IOException
{
    //创建数据源目录File对象，路径是F:\招聘
    File srcFolder = new File("F:\\招聘");

    //获取数据源目录File对象的名称（招聘）
    String srcFolderName = srcFolder.getName();

    //创建目的地目录File对象，路径名是F:\游戏课程
    File destFolder = new File("F:\\游戏课程", srcFolderName);

    //判断目的地目录对应的File是否存在，如果不存在就创建
    if (!destFolder.exists())
    {
        destFolder.mkdir();
    }

    //获取数据源目录下所有文件的File数组
    File[] listFiles = srcFolder.listFiles();

    //遍历数组，得到每一个File对象，该File对象就是数据源文件
    //数据源文件：F:\招聘\简历修改注意事项.docx
    for (File srcFile : listFiles)
    {

        //获取数据源文件File对象的名称（简历修改注意事项.docx）
        String srcFileName = srcFile.getName();

        //创建目的地文件File对象，路径名是目的地目录+简历修改注意事项.docx（F:\游戏课程\简历修改注意事项.docx）
        File destFile = new File(destFolder, srcFileName);

        //复制文件
        copyFile(srcFile, destFile);
    }

}

public static void copyFoldersDemo() throws IOException
{
    //创建数据源目录File对象，路径是F:\文明大家庭成员综合考核评比
    File srcFile = new File("F:\\文明大家庭成员综合考核评比");

    //创建目的地目录File对象，路径名是G:\
    File destFile = new File("G:\\");

    //写方法实现文件夹的复制，参数为数据源File对象和目的地File对象
    copyFolder(srcFile, destFile);
}
```



## 游戏次数

程序实现猜数字小游戏只能试玩3此，如果还想玩，提示：游戏试玩结束，想继续请充值(www.malajie.com)

思路：

- 写一个游戏类，里面有一个猜数字的小游戏
- 写一个测试了，有`main()`方法，`main()`方法中按照下面步骤完成：
  1. 从文件中读取数据到Properties集合，用`load()`方法实现
     - 文件已经存在：game.txt
     - 里面有一个数据值：count = 0（键值数据，用 = 连接）
  2. 通过Properties集合获取到玩游戏的次数
  3. 判断次数是否到了3次
     - 如果到了3次，给出提示：游戏试玩结束，想继续请充值(www.malajie.com)
     - 如果没到3次：
       - 玩游戏
       - 次数+1，重新写回文件，用Properties的`store()`方法实现

```java
public class GuessNumber
{
    private GuessNumber()
    {
    }

    public static void start()
    {
        //要玩猜字游戏，首先要有一个被猜的数字，使用随机生成，范围是1-100
        Random random = new Random();
        int num = random.nextInt(100) + 1;

        while (true){
            //键盘录入每次猜的值
            Scanner sc = new Scanner(System.in);

            System.out.println("请输入你要猜的数字：");
            int guessNum = sc.nextInt();

            //比较输入的数字和产生的数字的大小
            if (guessNum > num){
                System.out.println("你猜的数字 " + guessNum + " 太大了");
            }
            else if(guessNum < num)
            {
                System.out.println("你猜的数字 " + guessNum + " 太小了");
            }
            else
            {
                System.out.println("恭喜你猜对了");
                break;
            }

        }
    }
}

public class PropTest
{
    public static void main(String[] args) throws IOException
    {
        //从文件中读取数据到Properties集合，用`load()`方法实现
        Properties prop = new Properties();

        FileReader fr = new FileReader
                ("G:\\Github Desktop\\JavaLearning\\Java Practical\\src\\com\\guessgame\\game.txt");
        prop.load(fr);

        fr.close();

        //通过Properties集合获取到玩游戏的次数
        int count = Integer.parseInt(prop.getProperty("count"));

        //判断次数是否到了3次
        if (count >= 3){
            //给出提示
            System.out.println("游戏试玩结束，想继续请充值(www.malajie.com)");
        }
        else {
            //玩游戏
            GuessNumber.start();

            //次数+1，重新写回文件，用Properties的`store()`方法实现
            count++;
            prop.setProperty("count", String.valueOf(count));

            FileWriter fw = new FileWriter
                    ("G:\\Github Desktop\\JavaLearning\\Java Practical\\src\\com\\guessgame\\game.txt");
            prop.store(fw,null);
            fw.close();
        }
    }
}

```













# 爬虫

技术点：

1. URL类：访问网络
2. IO流：传输数据
3. 正则表达式：解析数据

```java
package com.company;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.URL;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class Main {

	public static List<String> webCrawler() throws IOException
    {
        //装载爬取到的新闻数据的容器
        List<String> list = new ArrayList<String>();

        //定义变量，存放要爬取的网址
        String strUrl = "https://news.baidu.com";

        //访问网页，创建URL对象
        URL url = new URL(strUrl);

        //传输数据 java io
        //在程序和服务器之间建立数据传输通道
        BufferedReader br = new BufferedReader(new InputStreamReader(url.openStream()));

        //传输数据
        String strRead = "";

        //定义正则表达式
        String aPattern = "<a.*?href=\"(.*?)\".*?>(.*?)<\\/a>";

        while ((strRead = br.readLine()) != null)
        {
            //解析数据，Pattern.compile第二个参数是忽略大小写
            Matcher m = Pattern.compile(aPattern, Pattern.CASE_INSENSITIVE).matcher(strRead);

            if (m.find())
            {
                //2表示aPattern中第二个括号中的内容
                //System.out.println("新闻信息 ：" + m.group(2) + "(" + m.group(1) + ")");
                list.add(m.group(2) + "(" + m.group(1) + ")");
            }
        }
        return list;
    }
}
```



# Apache POI实现办公自动化

Excel各种库，自动发邮件stmp库，zmail库，操作微信发信息itchat。

**导入POI所有的jar文件！！！**

**导入POI所有的jar文件！！！**

**导入POI所有的jar文件！！！**

- HSSF：提供读写Microsoft Excel **XLS格式**档案的功能。
- XSSF：提供读写Microsoft Excel OOXML **XLSX格式**档案的功能。
- HWPF：提供读写Microsoft **Word DOC97格式**档案的功能。
- XWPF：提供读写Microsoft Word **DOC2003格式**档案的功能。
- HSLF：提供读写Microsoft **PowerPoint格式**档案的功能。
- HDGF：提供读Microsoft **Visio格式**档案的功能。
- HPBF：提供读Microsoft **Publisher格式**档案的功能。
- HSMF：提供读Microsoft **Outlook格式**档案的功能。



```java
//写EXCEL
	public static XSSFWorkbook importData(List<String> news)
    {
        //新建excel文件(.xls)
        XSSFWorkbook wb = new XSSFWorkbook();

        //创建工作表sheet表
        XSSFSheet sheet = wb.createSheet();

        //创建表头
        XSSFRow head = sheet.createRow(0);//第一行

        //创建单元格
        XSSFCell cell1 = head.createCell(0);//第一个单元格
        cell1.setCellValue("序号");

        XSSFCell cell2 = head.createCell(1);//第二个单元格
        cell2.setCellValue("新闻");

        //构建新闻数据
        int rowNum = 1;//行号，现在是第二行
        for (String n:news)
        {
            XSSFRow row = sheet.createRow(rowNum);//第二行
            XSSFCell cell;

            cell = row.createCell(0);//第一个单元格
            cell.setCellValue(rowNum);

            cell = row.createCell(1);//第二个单元格
            cell.setCellValue(n);

            rowNum += 1;
        }

        return wb;//此时生成的表格还在内存中
    }
```



```java
	public static void main(String[] args) throws IOException
    {
        //爬取新闻
        List<String> news = new ArrayList<String>();
        news = webCrawler();

        //写入Excel
        XSSFWorkbook wb = WriteExcel.importData(news);//生产Excel文件
        //将Excel文件写入磁盘
        File file = new File("G:/news.xlsx");
        FileOutputStream fileOut = new FileOutputStream(file);
        wb.write(fileOut);
        fileOut.flush();//刷新缓存，将数据输出到内存

        //从Excel文件中读取新闻数据打印到控制台
        List<String> news2 = new ArrayList<String>();
        news2 = ReadExcel.readExcel("G:/news.xlsx");
        for (String str:news)
        {
            System.out.println(str);
        }
```



```java
//读EXCEL
    public static List<String> readExcel(String fileName) throws IOException
    {
        List<String> list = new ArrayList<String >();

        //获取excel表格
        File file = new File(fileName);//文件IO流，用于读写文件
        FileInputStream inputStream = new FileInputStream(file);//文件IO流，用于读写文件

        XSSFWorkbook wb = new XSSFWorkbook(inputStream);

        //读取Excel文件中的数据
        XSSFSheet sheet = wb.getSheetAt(0);
        //解析每一行的数据，构造数据对象
        int rowStartAt = 1;//数据第一行,即Excel表格的第二行
        int rowEndAt = sheet.getPhysicalNumberOfRows();//有数据的最后一行

        for (int rowNum = rowStartAt; rowNum < rowEndAt; rowNum ++)
        {
            XSSFRow row = sheet.getRow(rowNum);//获取一行
            XSSFCell cell;
            int cellNum = 1;
            //获取新闻
            cell = row.getCell(cellNum);
            String name = cell.getStringCellValue();//获取单元格的内容
            list.add(name);
        }
        return list;

    }
```



